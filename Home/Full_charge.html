<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Full Charge - Book Slot</title>
  <style>
    *{ text-decoration: none; list-style: none; }
    .seat {
      height: 60px;
      width: 146px;
      border-radius: 14px;
      cursor: pointer;
      margin: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
      color: #fff;
      font-weight: 600;
    }
    .container { width: 100%; display: flex; }
    .list { display: flex; flex-wrap: wrap; }
  </style>
  <!-- Favicon -->
  <link href="img/favicon.ico" rel="shortcut icon"/>
  <!-- Stylesheets -->
  <link rel="stylesheet" href="css/bootstrap.min.css"/>
  <link rel="stylesheet" href="css/font-awesome.min.css"/>
  <link rel="stylesheet" href="css/owl.carousel.min.css"/>
  <link rel="stylesheet" href="css/slicknav.min.css"/>
  <link rel="stylesheet" href="css/style.css"/>
</head>
<body>
  <header class="header-section clearfix">
    <a href="index.html" class="site-logo">
      <img src="Login_SignUp/IMG/final_logo.png" style="padding: 10px;" width="160" height="110" alt="">
    </a>
    <div class="header-right">
      <a href="#" class="hr-btn">Help</a>
      <span>|</span>
      <div class="user-panel">
  <a href="Login_SignUp/Login/login.html" class="login">Login</a>
  <a href="Login_SignUp/signup.html" class="register">Create an account</a>
      </div>
    </div>
    <ul class="main-menu">
      <li><a href="index.html">Home</a></li>
      <li><a href="#">Charge Type</a>
        <ul class="sub-menu">
          <li><a href="Half_charge.html">Half Charge</a></li>
          <li><a href="Full_charge.html">Full Charge</a></li>
        </ul>
      </li>
      <li><a href="blog.html">News</a></li>
      <li><a href="profile.html">Profile</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
  </header>

  <main>
    <div class="container">
      <ul class="list"></ul>
    </div>
  </main>

  <footer class="footer-section">
    <div class="container1">
      <p align="center"><font color="white" size="20">C O N T A C T &nbsp; U S</font></p>
      <p align="center">Tel: +91 1234567890</p>
      <p align="center">Address: V.V.P Engineering college, Rajkot, Gujarat 360005</p>
      <div class="col-xl-6 col-lg-5 order-lg-1" id="ss" style="margin-left:400px;">
        <div align="center" class="social-links">
          <a href=""><i class="fa fa-instagram"></i></a>
          <a href=""><i class="fa fa-pinterest"></i></a>
          <a href=""><i class="fa fa-facebook"></i></a>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // Use seats stored in localStorage (string of booleans) or initialise with 48 slots (30-min slots)
    let localSeats = localStorage.getItem('seats') ? localStorage.getItem('seats').split(',') : null;

    if(!localSeats) {
      const seats = new Array(48).fill(false);
      localStorage.setItem('seats', seats);
      localSeats = seats;
    }

    const times = [
      "12:00AM-12:30AM","12:30AM-1:00AM","1:00AM-1:30AM","1:30AM-2:00AM",
      "2:00AM-2:30AM","2:30AM-3:00AM","3:00AM-3:30AM","3:30AM-4:00AM",
      "4:00AM-4:30AM","4:30AM-5:00AM","5:00AM-5:30AM","5:30AM-6:00AM",
      "6:00AM-6:30AM","6:30AM-7:00AM","7:00AM-7:30AM","7:30AM-8:00AM",
      "8:00AM-8:30AM","8:30AM-9:00AM","9:00AM-9:30AM","9:30AM-10:00AM",
      "10:00AM-10:30AM","10:30AM-11:00AM","11:00AM-11:30AM","11:30AM-12:00PM",
      "12:00PM-12:30PM","12:30PM-1:00PM","1:00PM-1:30PM","1:30PM-2:00PM",
      "2:00PM-2:30PM","2:30PM-3:00PM","3:00PM-3:30PM","3:30PM-4:00PM",
      "4:00PM-4:30PM","4:30PM-5:00PM","5:00PM-5:30PM","5:30PM-6:00PM",
      "6:00PM-6:30PM","6:30PM-7:00PM","7:00PM-7:30PM","7:30PM-8:00PM",
      "8:00PM-8:30PM","8:30PM-9:00PM","9:00PM-9:30PM","9:30PM-10:00PM",
      "10:00PM-10:30PM","10:30PM-11:00PM","11:00PM-11:30PM","11:30PM-12:00PM"
    ];

    function makeSeat(index) {
      const ul = document.querySelector('.list');
      const li = document.createElement('li');
      li.className = 'seat';
      const booked = localSeats[index] === 'true' || localSeats[index] === true;
      li.style.backgroundColor = booked ? 'green' : 'gray';
      li.textContent = times[index] || ('Slot ' + (index+1));
      li.dataset.index = index;
      li.addEventListener('click', () => onClickSeat(index, li));
      li.addEventListener('mousemove', () => onHoverSeat(index, li));
      ul.appendChild(li);
    }

    function onClickSeat(index, el) {
      const booked = localSeats[index] === 'true' || localSeats[index] === true;
      if (booked) {
        alert('This slot is already booked. Please choose another slot.');
        return;
      }
      // Save selection and navigate to details (same behavior as other pages)
      localStorage.setItem('selectedSeat', String(index));
      window.location.href = 'v_details.html';
    }

    function onHoverSeat(index, el) {
      const booked = localSeats[index] === 'true' || localSeats[index] === true;
      el.style.cursor = booked ? 'default' : 'pointer';
    }

    // Render seats
    for (let i = 0; i < 48; i++) makeSeat(i);
  </script>

  <!-- auth header sync -->
  <script src="Login_SignUp/js/auth-include.js"></script>
  <script src="Login_SignUp/js/auth.js"></script>
</body>
</html>